<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.taehyeon.kdtcom.mapper.MemberMapper">

	<!-- 쿼리문 : 매개변수 - parameterType 결과값 - resultType -->
	<select id="selectMem" parameterType="int"
		resultType="MemberDto">
		SELECT * FROM members WHERE id = #{id}
	</select>

	<select id="listMem" resultType="MemberDto">
		SELECT * FROM members order by
		id desc
	</select>

	<!-- 사용자 추가 -->
	<insert id="insertMem" parameterType="MemberDto">
		insert into members
		(userid,userpass,username,useremail,usertel,zipcode,address,detail_address,extra_address,userimg,userprofile,create_at,edit_at,userip,grade)
		values (#{userid}, #{userpass}, #{username}, #{useremail}, #{usertel},
		#{zipcode}, #{address}, #{detail_address}, #{extra_address},
		#{userimg}, #{userprofile}, #{create_at}, #{edit_at}, #{userip},
		#{grade})
	</insert>

	<!-- 사용자 수정 -->
	<update id="updateMem" parameterType="MemberDto">
		update members set
		name=#{name}, email=#{email} where num = #{num}
	</update>
	<!-- 사용자 삭제 -->
	<delete id="deleteMem" parameterType="int">
		delete from members where
		id = #{id}
	</delete>
</mapper> 
 